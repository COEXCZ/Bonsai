@import "font-awesome";
@import "transform-rotate"; 
@import "bourbon/bourbon";

* {
	@include box-sizing(border-box); /* dangerous, this is gonna have to be .bonsai * */	
}



.icon-chevron-sign-right  {
	position:absolute;
	right:0.25em;
	bottom:0.6em;
	font-size:120%;
	display:none !important;
}

.no-touch {
	body {
		min-height:auto;
		height:100%;
	}
	#wrapper {
		height:100%; 
	}
	.bonsai {
		overflow:scroll;
		min-height:100%;
		&:hover {
			background:rgba(60,60,60,0.48);
			@include transition(all,420ms,ease-in);
			border:1px solid rgba(100,100,100,0.8);
		}
		a {
			&:hover {
				color:rgba(253,253,253,0.99999);
				i {
					opacity:0.5;
				}
			}
		}
		@media only screen and (max-width: 768px) {
			a {
				&:hover {
					background:rgba(200,200,200,0.18);
				}
			}
		}
	}  
}

.bonsai {
	font: 0.84em/1.4em "Helvetica Neue", Helvetica, Arial, sans-serif;
	-webkit-font-smoothing: antialiased;
	-webkit-text-stroke: 0.6px;
	padding:1em 0.5em 0.5em 0.5em;
	border:1px solid rgba(100,100,100,0.4);
	max-width:300px;
	background:rgba(60,60,60,0.4);
	color:rgba(180,180,180,1); 
	font-weight:normal;
	@include transition(all,320ms,ease-out);


	li {
		overflow:hidden;
		
		&.folder {
			> .section {
				overflow: hidden;
				max-height: 0px;
				position: relative;
				z-index: 10;
				opacity:0; 
				@include transition(opacity,240ms,ease-in);
			}
			&.open {
				> a > i[class*="caret"] {
					@include transform-rotate(90deg);
					
					
				}
				> .section {
					max-height:none;
					@include transition(opacity,240ms,ease-out);
					opacity:1;
				}
			}
		}
	}
	.section {
		list-style-type:none;
		padding:0;
		margin:0;
		.section {
			padding-left:0.667em;
		}
	}
	a {
		text-decoration:none;
		color:inherit;
		position:relative;
		@include transition(all,320ms,ease-out);

	}
	i {
		opacity:0.3;
		margin-right:0.2em;
		@include transition(all,320ms,ease-out);
		&.icon-filetype {
			margin-right:7px;
			margin-left:9px;
		}
		&.icon-folder-close-alt {
			margin-left:9px;
		}
	}
	i[class*="caret"] {
		margin-right:4px;
		display:inline-block;
	}
	i[class*="folder"] {
		min-width:14px;
		display:inline-block;
	}
	
	@media only screen and (max-width: 768px) {
		.no-touch .bonsai {
			overflow: inherit;
			/* min-height:auto; */
		}
		#wrapper {
			height:auto;
		}
		.section, .section .section {
			padding-left:0;
		}
		.icon-doctype {
			position:absolute;
			top:0.8em;
			left:0.333em;
			&.icon-filetype {
				left:0.3667em;
				margin-left:0;
				margin-right:0;
			}
		}
		
		.icon-chevron-sign-right {
			display:inherit !important;
			color:inherit;
		}
		
		color:white;
		 
		i[class*="caret"] {
			display:none;
		}
		i.icon-folder-close-alt {
			margin-left:0;
		}
		
		.icon-filetype {

		}
		
		
		a {
			padding:0.42em 0.42em 0.42em 1.62em;
			display:block;
		}
		
		li {
			li {
				a:after {
					content:" ";
					border-top:1px dotted grey;
					display:block;
					position:absolute;
					bottom:-0.22em;
					right:2.2em;
					width:4px;
					height:10px;
				}
				
				/* start tiny dots - if this is a keeper, use a sass loop and consider making a component */
				li {
					a:after { width:8px; }
					li {
						a:after { width:12px; }
						li {
							a:after { width:16px; }
							li {
								a:after { width:20px; }
								li {
									a:after { width:24px; }
									li {
										a:after { width:28px; }
										li {
											a:after { width:32px; }
											li {
												a:after { width:36px; }
													li {
														a:after { width:40px; }
														li {
															a:after { width:44px; }
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
				/* end tiny dots */
			}
		
		li { 
			border-top:1px solid rgba(120,120,120,0.6);
			
			&.open {
				> a {
					font-weight:normal;
					i:not(.icon-chevron-sign-right) {
						opacity:1;
					}
					
				}
				li {
					 /* background:rgba(120,120,120,0.24);  */
				}
			}
			&.folder.open, &.folder.open /* > a:hover */ {
				background:rgba(20,20,20,0.48); 
				
			}
		}
		
		> .section {
			> li {
				&:last-of-type {
					border-bottom:1px solid rgba(120,120,120,0.6);
				}
				&:first-of-type {
					border-top:none;
				}
				
			}
			
		}

		font-size:1em;
		line-height:1.8em;
		padding:0;

	}
	
	@media only screen and (max-width: 480px) {
		max-width:none;
		width:100%
	}
	
}

